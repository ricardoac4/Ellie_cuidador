<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formulario</title>
  <link rel="stylesheet" href="formulario.css?v=2" />
</head>
<body>
  <div class="form-container">
    <form id="formulario">
      <h2>Información para crear tu asistente</h2>
      <div class="form-grid">
        <div class="campo">
          <label for="nombreUsuario">Tu nombre:</label>
          <input type="text" name="nombreUsuario" id="nombreUsuario" required>
        </div>
        <div class="campo">
          <label for="nombreAdulto">Nombre del adulto mayor:</label>
          <input type="text" name="nombreAdulto" id="nombreAdulto" required>
        </div>

        <div class="campo">
          <label for="apodoAdulto">¿Cómo te refieres a él o ella?:</label>
          <input type="text" name="apodoAdulto" id="apodoAdulto" required>
        </div>
        <div class="campo">
          <label for="relacion">Relación contigo:</label>
          <input type="text" name="relacion" id="relacion" required>
        </div>

        <div class="campo">
          <label for="edad">Edad:</label>
          <input type="number" name="edad" id="edad" required>
        </div>
        <div class="campo">
          <label for="medicamentos">Medicamentos que toma:</label>
          <input type="text" name="medicamentos" id="medicamentos" placeholder="Ej: Aspirina, Losartán" required>
        </div>

        <div class="campo">
          <label for="dia">Día de toma del medicamento:</label>
          <select name="dia" id="dia" required>
            <option value="">Selecciona un día</option>
            <option value="Lunes">Lunes</option>
            <option value="Martes">Martes</option>
            <option value="Miércoles">Miércoles</option>
            <option value="Jueves">Jueves</option>
            <option value="Viernes">Viernes</option>
            <option value="Sábado">Sábado</option>
            <option value="Domingo">Domingo</option>
            <option value="Todos los días">Todos los días</option>
          </select>
        </div>

        <div class="campo">
          <label for="hora">Hora de toma:</label>
          <input type="time" name="hora" id="hora" required>
        </div>

        <div class="campo">
          <label for="actividades">Actividades favoritas:</label>
          <input type="text" name="actividades" id="actividades" placeholder="Ej: Tejer, ver televisión, pasear" required>
        </div>

        <div class="campo">
          <label>¿Qué tipo de mensajes le hacen sentir bien?</label>
          <div class="checkbox-group">
            <label><input type="checkbox" name="mensajes" value="mensajes de cariño"> Mensajes de cariño</label>
            <label><input type="checkbox" name="mensajes" value="mensajes de apoyo"> Mensajes de apoyo</label>
            <label><input type="checkbox" name="mensajes" value="recordatorios con humor"> Recordatorios con humor</label>
            <label><input type="checkbox" name="mensajes" value="recordatorios firmes"> Recordatorios firmes</label>
            <label><input type="checkbox" name="mensajes" value="chistes"> Chistes</label>
            <label><input type="checkbox" name="mensajes" value="frases motivacionales"> Frases motivacionales</label>
          </div>
        </div>
      </div>

      <div class="boton">
        <button type="submit">Guardar y continuar</button>
      </div>
    </form>
  </div>

  <script>
    document.getElementById('formulario').addEventListener('submit', function(e) {
      e.preventDefault();

      const formData = new FormData(this);
      const datos = {};
      formData.forEach((value, key) => {
        if (datos[key]) {
          if (!Array.isArray(datos[key])) datos[key] = [datos[key]];
          datos[key].push(value);
        } else {
          datos[key] = value;
        }
      });

      localStorage.setItem('formularioUsuario', JSON.stringify(datos));
      window.location.href = 'crear-avatar.html';
    });
  </script>
</body>
</html>
