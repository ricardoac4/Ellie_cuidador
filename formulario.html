<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Form</title>
  <link rel="stylesheet" href="formulario.css?v=2" />
</head>
<body>
  <div class="form-container">
    <form id="formulario">
      <h2>Information to create your assistant</h2>
      <div class="form-grid">
        <div class="campo">
          <label for="nombreUsuario">Your name:</label>
          <input type="text" name="nombreUsuario" id="nombreUsuario" required>
        </div>
        <div class="campo">
          <label for="nombreAdulto">Name of the elder:</label>
          <input type="text" name="nombreAdulto" id="nombreAdulto" required>
        </div>

        <div class="campo">
          <label for="apodoAdulto">How do you tell him or her?:</label>
          <input type="text" name="apodoAdulto" id="apodoAdulto" required>
        </div>
        <div class="campo">
          <label for="relacion">Relationship with you:</label>
          <input type="text" name="relacion" id="relacion" required>
        </div>

        <div class="campo">
          <label for="edad">Age:</label>
          <input type="number" name="edad" id="edad" required>
        </div>
        <div class="campo">
          <label for="medicamentos">Medications he/she is taking:</label>
          <input type="text" name="medicamentos" id="medicamentos" placeholder="Ej: Aspirina, Losartán" required>
        </div>

        <div class="campo">
          <label for="dia">When he/she takes the medicine:</label>
          <select name="dia" id="dia" required>
            <option value="">Select a day</option>
            <option value="Lunes">Monday</option>
            <option value="Martes">Tuesday</option>
            <option value="Miércoles">Wednesday</option>
            <option value="Jueves">Thrusday</option>
            <option value="Viernes">Friday</option>
            <option value="Sábado">Saturday</option>
            <option value="Domingo">Sunday</option>
            <option value="Todos los días">Everyday</option>
          </select>
        </div>

        <div class="campo">
          <label for="hora">Hour?:</label>
          <input type="time" name="hora" id="hora" required>
        </div>

        <div class="campo">
          <label for="actividades">Favorites Activities:</label>
          <input type="text" name="actividades" id="actividades" placeholder="Ej: Tejer, ver televisión, pasear" required>
        </div>

        <div class="campo">
          <label>What kind of messages make him/her feel good?</label>
          <div class="checkbox-group">
            <label><input type="checkbox" name="mensajes" value="mensajes de cariño"> Messages of love</label>
            <label><input type="checkbox" name="mensajes" value="mensajes de apoyo"> Messages of support</label>
            <label><input type="checkbox" name="mensajes" value="recordatorios con humor">Jokes</label>
            <label><input type="checkbox" name="mensajes" value="recordatorios firmes"> Interesting news</label>
            <label><input type="checkbox" name="mensajes" value="frases motivacionales"> Motivational quotes</label>
          </div>
        </div>
      </div>

      <div class="boton">
        <button type="submit">Save and continue</button>
      </div>
    </form>
  </div>

  <script>
    document.getElementById('formulario').addEventListener('submit', function(e) {
      e.preventDefault();

      const formData = new FormData(this);
      const datos = {};
      formData.forEach((value, key) => {
        if (datos[key]) {
          if (!Array.isArray(datos[key])) datos[key] = [datos[key]];
          datos[key].push(value);
        } else {
          datos[key] = value;
        }
      });

      localStorage.setItem('formularioUsuario', JSON.stringify(datos));
      window.location.href = 'crear-avatar.html';
    });
  </script>
</body>
</html>
